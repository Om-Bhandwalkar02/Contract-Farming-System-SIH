{% extends 'base.html' %}
{% load static %}

{% block title %}
    Create Contract
{% endblock %}

{% block content %}
    <div class="min-h-screen bg-cover bg-center bg-no-repeat flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"
         style="background-image: url('{% static 'assets/agri1.jpg' %}');">
        <div class="absolute inset-0 bg-black opacity-50"></div> <!-- Optional overlay for readability -->
        <div class="relative max-w-xl w-full bg-white shadow-lg rounded-lg p-8 space-y-6 border-t-8 border-green-500">
            <h2 class="text-3xl font-extrabold text-gray-900 text-center">Create a Contract</h2>
            <p class="text-gray-600 text-center mb-6">Please fill in the details to create a new contract.</p>
            <form method="POST" action="{% url 'create_contract' %}" class="space-y-6">
                {% csrf_token %}

                <div class="flex flex-col">
                    <label for="farmer_contact" class="text-gray-700 font-medium">Farmer Phone Number</label>
                    <input type="text" id="farmer_contact" name="farmer_contact" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-base"
                        hx-get="{% url 'check_farmer_phone' %}"
                        hx-trigger="input"
                        hx-target="#phone-status"
                        hx-debounce="500ms" placeholder="Enter phone number">
                    <div id="phone-status" class="mt-2 text-sm text-green-500"></div>
                </div>

                <div class="flex flex-col">
                    <label for="product_name" class="text-gray-700 font-medium">Product Name</label>
                    <input type="text" id="product_name" name="product_name" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-base" placeholder="Enter product name" required>
                </div>

                <div class="flex flex-col">
                    <label for="quantity" class="text-gray-700 font-medium">Quantity (kg)</label>
                    <input type="number" id="quantity" name="quantity" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-base" placeholder="Enter quantity in kg" required>
                </div>

                <div class="flex flex-col">
                    <label for="price_per_unit" class="text-gray-700 font-medium">Price per Unit (â‚¹)</label>
                    <input type="number" step="0.01" id="price_per_unit" name="price_per_unit" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-base" placeholder="Enter price per unit" required>
                </div>

                <div class="flex flex-col">
                    <label for="delivery_address" class="text-gray-700 font-medium">Delivery Address</label>
                    <input type="text" id="delivery_address" name="delivery_address" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-base" placeholder="Enter delivery address" required>
                </div>

                <div class="flex flex-col">
                    <label for="delivery_handler" class="text-gray-700 font-medium">Delivery Handler</label>
                    <input type="text" id="delivery_handler" name="delivery_handler" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-base" placeholder="Enter handler name" required>
                </div>

                <div class="flex flex-col">
                    <label for="delivery_date" class="text-gray-700 font-medium">Delivery Date</label>
                    <input type="date" id="delivery_date" name="delivery_date" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-base" required>
                </div>

                <button type="submit" class="w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-600">
                    Create Contract
                </button>
            </form>
        </div>
    </div>
{% endblock %}
